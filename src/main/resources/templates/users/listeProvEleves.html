<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:th="http://www.thymeleaf.org" 
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="users/userslayout">
<head>
<meta charset="UTF-8"/>
<title th:text="#{listeProvEleves.titre_page}">Listes provisoires</title>
</head>
<body>
<div layout:fragment="formactionusers">
<!-- DEBUT DU FORMULAIRE PERMETTANT D'EFFECTUER L'ACTION DEMANDEE -->
<div class="col-md-12    reculeverticalementmodifdonneepersoform">
	<div class="panel panel-primary">
		<div class="panel-heading">
			<h4 th:text="#{listeProvEleves.entete_panel}">
				Affichage des listes provisoires des différentes classes
			</h4>
		</div>
		<div class="panel-body">
			<p class="alert alert-warning">
				<span style="text-decoration: underline;" th:text="#{listeProvEleves.label_important}">
					IMPORTANT:
				</span> 
				<span th:text="#{listeProvEleves.label_selectclasseaafficher}">
					Sélectionner la classe et cliquer sur Afficher. Une fois la liste affichée cliquer Exporter 
					pour l'imprimer dans un fichier pdf qui peut être par la suite transporté ou imprimé. 
				</span>
			</p>
			
			<form action="#" th:action="@{/logesco/users/getlisteProvEleves}" method="get"  
				th:if="${listofClasses}">
				<fieldset class="col-md-2"  th:if="${listofClasses}">
					<legend class="text-primary" th:text="#{listeProvEleves.legend_choixclasse}">
						Choisir la classe
					</legend>
					<div class="form-group">
						<label for="idClasseSelect" th:text="#{listeProvEleves.label_classe}"> Classe : <span
										class="redcolor">*</span></label> 
						<select class="form-control" name="idClasseSelect" id="idClasseSelect" >
							
							<optgroup th:label="${n.codeNiveaux}" th:if="${listofNiveaux}" th:each="n:${listofNiveaux}">
											
								<option th:each="c:${n.listofClasses}" th:value="${c.idClasses}"
										th:inline="text">
										 [[${c.codeClasses}]] [[${c.specialite.codeSpecialite}]] [[${c.numeroClasses}]]
								</option>
												
							</optgroup>
										 
						</select>
						<hr/>
						
						<button type="submit" class="btn btn-primary  pull-right" 
							th:text="#{listeProvEleves.bouton_envoyer}">
							Envoyer
						</button>
					</div>
					
				</fieldset>
					
				<fieldset  class="col-md-10" th:if="${classeSelect}">
					<legend class="text-primary" th:inline="text"> [[#{listeProvEleves.label_listeleve}]]
					<span th:inline="text" th:if="${classeSelect}" class="greencolor"> [[${classeSelect.codeClasses}]] 
					[[${classeSelect.specialite.codeSpecialite}]] [[${classeSelect.numeroClasses}]]</span> (Total:
						<span th:text="${effectifprovClasse}" class="redcolor"></span>)
					</legend>
					
					<div th:if="${listprovofEleves}" >
						<table class="table table-striped">
							<thead class="thead-light">
								<tr>
									<th scope="col" th:text="#{listeProvEleves.th_matricule}">MATRICULE</th>
									<th scope="col" th:text="#{listeProvEleves.th_nomsprenoms}">NOMS ET PRENOMS</th>
									<th scope="col" th:text="#{listeProvEleves.th_datenaissance}">DATE ET LIEU DE NAISSANCE</th>
									<th scope="col" th:text="#{listeProvEleves.th_numtel}">N° TEL PARENT/TUTEUR</th>
								</tr>
							</thead>
							<tbody>
								<tr th:each="eleve:${listprovofEleves}">
									<td th:inline="text">[[${eleve.matriculeEleves}]] </td>
								
									<td th:inline="text">[[${#strings.capitalize(eleve.nomsEleves)}]] [[${eleve.prenomsEleves}]] </td>
									
									<td th:inline="text">
										[[#{listeProvEleves.label_nele}]] 
										[[${eleve.datenaissEleves}]] [[#{listeProvEleves.label_a}]] 
										[[${eleve.lieunaissEleves}]]
									</td>
									
									<td th:inline="text">[[${eleve.numtel1Parent}]]</td>
								</tr>
							</tbody>
						</table>
						
						<div class="container">
							<ul class="pagination"><!-- nav nav-pills -->
								<li th:each="p,status:${listprovofPagesEleves}" th:class="${status.index==pageprovCouranteEleves}?active:' ' ">
									<a th:href="@{/logesco/users/getlisteProvEleves(idClasseSelect=${idClasseSelect},
											numPageprovEleves=${status.index})}"
											 th:text="${status.index+1}"></a>
								</li>
							</ul>
							
						</div> 
						
					</div>
					
				</fieldset>
				
				<a class="btn btn-primary btn-sm pull-right" href="#" th:if="${classeSelect}"
			      		th:href="@{/logesco/users/exportlistprovEleves(idClasseSelect=${idClasseSelect})}" 
			      		role="button" target="_blank" th:text="#{listeProvEleves.bouton_export}">
			      		Exporter la liste en PDF
			     </a>
				
			</form>
			
		</div>
	</div>
</div>
<!-- FIN DU FORMULAIRE PERMETTANT D'EFFECTUER L'ACTION DEMANDEE -->
</div>
</body>
</html>